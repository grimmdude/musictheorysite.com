!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){var tonal_chord=require("tonal-chord"),tonal_fretboard=require("tonal-fretboard");angular.module("guitarChordChart",[],function($interpolateProvider){$interpolateProvider.startSymbol("[["),$interpolateProvider.endSymbol("]]")}).controller("GuitarChordController",["$window","$scope","$log",function($window,$scope,$log){$scope.chordName="",$scope.chordShapes=[],$scope.updateChord=function(){$("#chords-container").empty(),$scope.chordName&&($scope.chordShapes=tonal_fretboard.chordShapes("guitar",tonal_chord.notes($scope.chordName),0,12,4),$scope.chordShapes.reverse(),$scope.chordShapes.forEach(function(shape){var div=$("#chords-container").append("<div></div>"),paper=Raphael(div[0],160,140),chord=new ChordBox(paper,30,30),lowestFret=shape.reduce(function(accum,value){return Array.isArray(value)&&(value=value[0]),value&&value<accum?value:accum},100);if(lowestFret<=2)var position=0;else var position=parseInt(lowestFret);chord.setChord(shape.reverse().map(function(item,index){if(Array.isArray(item))var fret_number=item[0]-(position?position-1:position);else if(item)var fret_number=item-(position?position-1:position);else var fret_number="x";return[index+1,fret_number]}),position),chord.draw()}))}}])},{"tonal-chord":5,"tonal-fretboard":10}],2:[function(require,module,exports){!function(t,n){"object"==typeof exports&&void 0!==module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.IntervalNotation=t.IntervalNotation||{})}(this,function(t){"use strict";function n(t,n){if("string"!=typeof t)return null;var e=d.exec(t);if(!e)return null;var r={num:+(e[3]||e[8]),q:e[4]||e[6]};r.dir="-"===(e[2]||e[7])?-1:1;var u=(r.num-1)%7;return r.simple=u+1,r.type=p[u],r.alt=f(r.type,r.q),r.oct=Math.floor((r.num-1)/7),r.size=r.dir*(c[u]+r.alt+12*r.oct),!1!==n&&"M"===r.type&&"P"===r.q?null:r}function e(t){return p[(t-1)%7]}function r(t){return-1===t?"-":""}function u(t,n){return t+7*n}function o(t,n,e,o){return a(t,n)+r(o)+u(t,e)}function i(t,n,e,o){return r(o)+u(t,e)+a(t,n)}function f(t,n){var r="number"==typeof t?e(t):t;return"M"===n&&"M"===r?0:"P"===n&&"P"===r?0:"m"===n&&"M"===r?-1:/^A+$/.test(n)?n.length:/^d+$/.test(n)?"P"===r?-n.length:-n.length-1:null}function l(t,n){return Array(Math.abs(n)+1).join(t)}function a(t,n){var r="number"==typeof t?e(Math.abs(t)):t;return 0===n?"M"===r?"M":"P":-1===n&&"M"===r?"m":n>0?l("A",n):n<0?l("d","P"===r?n:n+1):null}var d=new RegExp("^(?:(([-+]?)(\\d+)(d{1,4}|m|M|P|A{1,4}))|((AA|A|P|M|m|d|dd)([-+]?)(\\d+)))$"),c=[0,2,4,5,7,9,11],p="PMMPPMM";t.parse=n,t.type=e,t.shorthand=o,t.build=i,t.qToAlt=f,t.altToQ=a})},{}],3:[function(require,module,exports){!function(t,n){"object"==typeof exports&&void 0!==module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.NoteParser=t.NoteParser||{})}(this,function(t){"use strict";function n(t,n){return Array(n+1).join(t)}function r(t){return"number"==typeof t}function e(t){return"string"==typeof t}function u(t){return void 0!==t}function c(t,n){return Math.pow(2,(t-69)/12)*(n||440)}function o(){return b}function i(t,n,r){if("string"!=typeof t)return null;var e=b.exec(t);if(!e||!n&&e[4])return null;var u={letter:e[1].toUpperCase(),acc:e[2].replace(/x/g,"##")};u.pc=u.letter+u.acc,u.step=(u.letter.charCodeAt(0)+3)%7,u.alt="b"===u.acc[0]?-u.acc.length:u.acc.length;var o=A[u.step]+u.alt;return u.chroma=o<0?12+o:o%12,e[3]&&(u.oct=+e[3],u.midi=o+12*(u.oct+1),u.freq=c(u.midi,r)),n&&(u.tonicOf=e[4]),u}function f(t){return r(t)?t<0?n("b",-t):n("#",t):""}function a(t){return r(t)?""+t:""}function l(t,n,r){return null===t||void 0===t?null:t.step?l(t.step,t.alt,t.oct):t<0||t>6?null:C.charAt(t)+f(n)+a(r)}function p(t){if((r(t)||e(t))&&t>=0&&t<128)return+t;var n=i(t);return n&&u(n.midi)?n.midi:null}function s(t,n){var r=p(t);return null===r?null:c(r,n)}function d(t){return(i(t)||{}).letter}function m(t){return(i(t)||{}).acc}function h(t){return(i(t)||{}).pc}function v(t){return(i(t)||{}).step}function g(t){return(i(t)||{}).alt}function x(t){return(i(t)||{}).chroma}function y(t){return(i(t)||{}).oct}var b=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,A=[0,2,4,5,7,9,11],C="CDEFGAB";t.regex=o,t.parse=i,t.build=l,t.midi=p,t.freq=s,t.letter=d,t.acc=m,t.pc=h,t.step=v,t.alt=g,t.chroma=x,t.oct=y})},{}],4:[function(require,module,exports){"use strict";function split(sep){return function(o){return void 0===o?[]:Array.isArray(o)?o:"string"==typeof o?o.trim().split(sep):[o]}}function hasVal(e){return e||0===e}function map(fn,list){return arguments.length>1?map(fn)(list):function(l){return asArr(l).map(fn)}}function compact(arr){return asArr(arr).filter(hasVal)}function filter(fn,list){return arguments.length>1?filter(fn)(list):function(l){return asArr(l).filter(fn)}}function objHeight(p){if(!p)return-1/0;var f=7*tonalPitch.fifths(p);return f+12*(tonalPitch.focts(p)||-Math.floor(f/12)-100)}function ascComp(a,b){return objHeight(a)-objHeight(b)}function descComp(a,b){return-ascComp(a,b)}function sort(list,comp){var fn=1===arguments.length||!0===comp?ascComp:!1===comp?descComp:"function"==typeof comp?comp:ascComp;return list=Array.isArray(list)?list.slice():asArr(list),listFn(function(arr){return arr.sort(fn).filter(hasVal)},list)}function trOct(n){return tonalTranspose.transpose(tonalPitch.pitch(0,n,1))}function rotate(times,list){var arr=asArr(list),len=arr.length,n=(times%len+len)%len;return arr.slice(n,len).concat(arr.slice(0,n))}function rotateAsc(times,list){return listFn(function(arr){var len=arr.length,n=(times%len+len)%len,head=arr.slice(n,len),tail=arr.slice(0,n),s=tonalDistance.semitones(head[len-n-1],tail[0]);if(s<0){var octs=Math.floor(s/12);times<0?head=head.map(trOct(octs)):tail=tail.map(trOct(-octs))}return head.concat(tail)},list)}function select(nums,list){if(1===arguments.length)return function(l){return select(nums,l)};var arr=asArr(list);return asArr(nums).map(function(n){return arr[n-1]||null})}function permutations(list){return list=asArr(list),0===list.length?[[]]:permutations(list.slice(1)).reduce(function(acc,perm){return acc.concat(list.map(function(e,pos){var newPerm=perm.slice();return newPerm.splice(pos,0,list[0]),newPerm}))},[])}function asPitchStr(p){return tonalPitch.strPitch(p)||p}function listToStr(v){return tonalPitch.isPitch(v)?tonalPitch.strPitch(v):isArr(v)?v.map(asPitchStr):v}function listFn(fn,list){if(1===arguments.length)return function(l){return listFn(fn,l)};var arr=asArr(list).map(tonalPitch.asPitch);return listToStr(fn(arr))}Object.defineProperty(exports,"__esModule",{value:!0});var tonalPitch=require("tonal-pitch"),tonalTranspose=require("tonal-transpose"),tonalDistance=require("tonal-distance"),isArr=Array.isArray,asArr=split(/\s*\|\s*|\s*,\s*|\s+/),shuffle=listFn(function(arr){for(var i,t,m=arr.length;m;)i=Math.random()*m--|0,t=arr[m],arr[m]=arr[i],arr[i]=t;return arr});exports.asArr=asArr,exports.map=map,exports.compact=compact,exports.filter=filter,exports.sort=sort,exports.shuffle=shuffle,exports.rotate=rotate,exports.rotateAsc=rotateAsc,exports.select=select,exports.permutations=permutations},{"tonal-distance":7,"tonal-pitch":16,"tonal-transpose":18}],5:[function(require,module,exports){"use strict";function get(type,tonic){if(1===arguments.length)return function(t){return get(type,t)};var ivls=dict.get(type);return ivls?tonalHarmonizer.harmonize(ivls,tonic):null}function notes(chord){var p=parse(chord),ivls=dict.get(p.type);return ivls?tonalHarmonizer.harmonize(ivls,p.tonic):tonalArray.compact(tonalArray.map(tonalNote.name,chord))}function intervals(name$$1){var p=parse(name$$1);return dict.get(p.type)||[]}function isKnownChord(name$$1){return intervals(name$$1).length>0}function position(chord){var pcs=tonalArray.map(tonalNote.pc,chord),sorted=sortTriads(pcs);return sorted?sorted.indexOf(pcs[0]):null}function inversion(num,chord){if(1===arguments.length)return function(c){return inversion(num,c)};var sorted=sortTriads(chord);return sorted?tonalArray.rotate(num,sorted):[]}function sortTriads(chord){for(var all=tonalArray.permutations(notes(chord).map(tonalNote.pc)),i=0;i<all.length;i++){if(areTriads(tonalHarmonizer.intervallic(all[i])))return all[i]}return null}function areTriads(list){for(var i=0;i<list.length;i++)if("3"!==list[i][0])return!1;return!0}function parse(name$$1){var p=noteParser.regex().exec(name$$1);return p?p[4]?"7"===p[3]||"6"===p[3]?{type:p[3]+p[4],tonic:p[1]+p[2]}:{type:p[4],tonic:p[1]+p[2]+p[3]}:{type:p[3],tonic:p[1]+p[2]}:{type:name$$1,tonic:!1}}Object.defineProperty(exports,"__esModule",{value:!0});var tonalDictionary=require("tonal-dictionary"),tonalArray=require("tonal-array"),tonalNote=require("tonal-note"),noteParser=require("note-parser"),tonalHarmonizer=require("tonal-harmonizer"),M=["1P 3M 5P",["Major",""]],M13=["1P 3M 5P 7M 9M 13M",["maj13","Maj13"]],M6=["1P 3M 5P 13M",["6"]],M69=["1P 3M 5P 6M 9M",["69"]],M7add13=["1P 3M 5P 6M 7M 9M"],M7b5=["1P 3M 5d 7M"],M7b6=["1P 3M 6m 7M"],M7b9=["1P 3M 5P 7M 9m"],M7sus4=["1P 4P 5P 7M"],M9=["1P 3M 5P 7M 9M",["maj9","Maj9"]],M9b5=["1P 3M 5d 7M 9M"],M9sus4=["1P 4P 5P 7M 9M"],Madd9=["1P 3M 5P 9M",["2","add9","add2"]],Maj7=["1P 3M 5P 7M",["maj7","M7"]],Mb5=["1P 3M 5d"],Mb6=["1P 3M 13m"],Msus2=["1P 2M 5P",["add9no3","sus2"]],Msus4=["1P 4P 5P",["sus","sus4"]],addb9=["1P 3M 5P 9m"],m=["1P 3m 5P",["minor"]],m11=["1P 3m 5P 7m 9M 11P",["_11"]],m11b5=["1P 3m 7m 12d 2M 4P",["h11","_11b5"]],m13=["1P 3m 5P 7m 9M 11P 13M",["_13"]],m6=["1P 3m 4P 5P 13M",["_6"]],m69=["1P 3m 5P 6M 9M",["_69"]],m7=["1P 3m 5P 7m",["minor7","_","_7"]],m7add11=["1P 3m 5P 7m 11P",["m7add4"]],m7b5=["1P 3m 5d 7m",["half-diminished","h7","_7b5"]],m9=["1P 3m 5P 7m 9M",["_9"]],m9b5=["1P 3m 7m 12d 2M",["h9","-9b5"]],mMaj7=["1P 3m 5P 7M",["mM7","_M7"]],mMaj7b6=["1P 3m 5P 6m 7M",["mM7b6"]],mM9=["1P 3m 5P 7M 9M",["mMaj9","-M9"]],mM9b6=["1P 3m 5P 6m 7M 9M",["mMaj9b6"]],mb6M7=["1P 3m 6m 7M"],mb6b9=["1P 3m 6m 9m"],o=["1P 3m 5d",["mb5","dim"]],o7=["1P 3m 5d 13M",["diminished","m6b5","dim7"]],o7M7=["1P 3m 5d 6M 7M"],oM7=["1P 3m 5d 7M"],sus24=["1P 2M 4P 5P",["sus4add9"]],madd4=["1P 3m 4P 5P"],madd9=["1P 3m 5P 9M"],DATA={M:M,M13:M13,M6:M6,M69:M69,M7add13:M7add13,M7b5:M7b5,M7b6:M7b6,M7b9:M7b9,M7sus4:M7sus4,M9:M9,M9b5:M9b5,M9sus4:M9sus4,Madd9:Madd9,Maj7:Maj7,Mb5:Mb5,Mb6:Mb6,Msus2:Msus2,Msus4:Msus4,addb9:addb9,m:m,m11:m11,m11b5:m11b5,m13:m13,m6:m6,m69:m69,m7:m7,m7add11:m7add11,m7b5:m7b5,m9:m9,m9b5:m9b5,mMaj7:mMaj7,mMaj7b6:mMaj7b6,mM9:mM9,mM9b6:mM9b6,mb6M7:mb6M7,mb6b9:mb6b9,o:o,o7:o7,o7M7:o7M7,oM7:oM7,sus24:sus24,madd4:madd4,madd9:madd9,4:["1P 4P 7m 10m",["quartal"]],5:["1P 5P"],7:["1P 3M 5P 7m",["Dominant","Dom"]],9:["1P 3M 5P 7m 9M",["79"]],11:["1P 5P 7m 9M 11P"],13:["1P 3M 5P 7m 9M 13M",["13_"]],64:["5P 8P 10M"],"M#5":["1P 3M 5A",["augmented","maj#5","Maj#5","+","aug"]],"M#5add9":["1P 3M 5A 9M",["+add9"]],"M13#11":["1P 3M 5P 7M 9M 11A 13M",["maj13#11","Maj13#11","M13+4","M13#4"]],"M6#11":["1P 3M 5P 6M 11A",["M6b5","6#11","6b5"]],"M69#11":["1P 3M 5P 6M 9M 11A"],"M7#11":["1P 3M 5P 7M 11A",["maj7#11","Maj7#11","M7+4","M7#4"]],"M7#5":["1P 3M 5A 7M",["maj7#5","Maj7#5","maj9#5","M7+"]],"M7#5sus4":["1P 4P 5A 7M"],"M7#9#11":["1P 3M 5P 7M 9A 11A"],"M9#11":["1P 3M 5P 7M 9M 11A",["maj9#11","Maj9#11","M9+4","M9#4"]],"M9#5":["1P 3M 5A 7M 9M",["Maj9#5"]],"M9#5sus4":["1P 4P 5A 7M 9M"],"11b9":["1P 5P 7m 9m 11P"],"13#11":["1P 3M 5P 7m 9M 11A 13M",["13+4","13#4"]],"13#9":["1P 3M 5P 7m 9A 13M",["13#9_"]],"13#9#11":["1P 3M 5P 7m 9A 11A 13M"],"13b5":["1P 3M 5d 6M 7m 9M"],"13b9":["1P 3M 5P 7m 9m 13M"],"13b9#11":["1P 3M 5P 7m 9m 11A 13M"],"13no5":["1P 3M 7m 9M 13M"],"13sus4":["1P 4P 5P 7m 9M 13M",["13sus"]],"69#11":["1P 3M 5P 6M 9M 11A"],"7#11":["1P 3M 5P 7m 11A",["7+4","7#4","7#11_","7#4_"]],"7#11b13":["1P 3M 5P 7m 11A 13m",["7b5b13"]],"7#5":["1P 3M 5A 7m",["+7","7aug","aug7"]],"7#5#9":["1P 3M 5A 7m 9A",["7alt","7#5#9_","7#9b13_"]],"7#5b9":["1P 3M 5A 7m 9m"],"7#5b9#11":["1P 3M 5A 7m 9m 11A"],"7#5sus4":["1P 4P 5A 7m"],"7#9":["1P 3M 5P 7m 9A",["7#9_"]],"7#9#11":["1P 3M 5P 7m 9A 11A",["7b5#9"]],"7#9#11b13":["1P 3M 5P 7m 9A 11A 13m"],"7#9b13":["1P 3M 5P 7m 9A 13m"],"7add6":["1P 3M 5P 7m 13M",["67","7add13"]],"7b13":["1P 3M 7m 13m"],"7b5":["1P 3M 5d 7m"],"7b6":["1P 3M 5P 6m 7m"],"7b9":["1P 3M 5P 7m 9m"],"7b9#11":["1P 3M 5P 7m 9m 11A",["7b5b9"]],"7b9#9":["1P 3M 5P 7m 9m 9A"],"7b9b13":["1P 3M 5P 7m 9m 13m"],"7b9b13#11":["1P 3M 5P 7m 9m 11A 13m",["7b9#11b13","7b5b9b13"]],"7no5":["1P 3M 7m"],"7sus4":["1P 4P 5P 7m",["7sus"]],"7sus4b9":["1P 4P 5P 7m 9m",["susb9","7susb9","7b9sus","7b9sus4","phryg"]],"7sus4b9b13":["1P 4P 5P 7m 9m 13m",["7b9b13sus4"]],"9#11":["1P 3M 5P 7m 9M 11A",["9+4","9#4","9#11_","9#4_"]],"9#11b13":["1P 3M 5P 7m 9M 11A 13m",["9b5b13"]],"9#5":["1P 3M 5A 7m 9M",["9+"]],"9#5#11":["1P 3M 5A 7m 9M 11A"],"9b13":["1P 3M 7m 9M 13m"],"9b5":["1P 3M 5d 7m 9M"],"9no5":["1P 3M 7m 9M"],"9sus4":["1P 4P 5P 7m 9M",["9sus"]],"m#5":["1P 3m 5A",["m+","mb6"]],"m11A 5":["1P 3m 6m 7m 9M 11P"],"m7#5":["1P 3m 6m 7m"],"m9#5":["1P 3m 6m 7m 9M"],"+add#9":["1P 3M 5A 9A"]},dict=tonalDictionary.dictionary(DATA,function(str){return str.split(" ")}),names=dict.keys,detect=tonalDictionary.detector(dict,"");exports.names=names,exports.get=get,exports.notes=notes,exports.intervals=intervals,exports.isKnownChord=isKnownChord,exports.detect=detect,exports.position=position,exports.inversion=inversion,exports.parse=parse},{"note-parser":3,"tonal-array":4,"tonal-dictionary":6,"tonal-harmonizer":11,"tonal-note":14}],6:[function(require,module,exports){"use strict";function id(x){return x}function dictionary(raw,parse){parse=parse||id;var byKey={},names=Object.keys(raw),aliases=[];return names.forEach(function(k){var value=parse(raw[k][0]);byKey[k]=value,raw[k][1]&&raw[k][1].forEach(function(alias){byKey[alias]=value,aliases.push(alias)})}),{get:function(n){return byKey[n]},keys:function(all,filter){var keys=all?names.concat(aliases):names.slice();return"function"!=typeof filter?keys:keys.filter(function(k){return filter(k,byKey[k])})}}}function detector(dict,build){var isSep="string"==typeof build,isFn="function"==typeof build,nameByChroma=dict.keys(!1).reduce(function(map$$1,key){return map$$1[tonalPcset.chroma(dict.get(key))]=key,map$$1},{});return function(notes){notes=tonalArray.sort(tonalArray.map(tonalNote.pc,notes));var sets=tonalPcset.chromaModes(notes);return tonalArray.compact(sets.map(function(set,i){var type=nameByChroma[set];if(!type)return null;var tonic=notes[i];return isSep?tonic+build+type:isFn?build(type,tonic):[type,tonic]}))}}Object.defineProperty(exports,"__esModule",{value:!0});var tonalArray=require("tonal-array"),tonalNote=require("tonal-note"),tonalPcset=require("tonal-pcset");exports.dictionary=dictionary,exports.detector=detector},{"tonal-array":4,"tonal-note":14,"tonal-pcset":15}],7:[function(require,module,exports){"use strict";function substr(a,b){if(!a||!b||a[1].length!==b[1].length)return null;var f=tonalPitch.fifths(b)-tonalPitch.fifths(a);if(tonalPitch.isPC(a))return tonalPitch.pitch(f,-Math.floor(7*f/12),1);var o=tonalPitch.focts(b)-tonalPitch.focts(a),d=tonalPitch.height(b)-tonalPitch.height(a)<0?-1:1;return tonalPitch.pitch(d*f,d*o,d)}function interval(a,b){if(1===arguments.length)return function(b){return interval(a,b)};var pa=tonalPitch.asPitch(a),pb=tonalPitch.asPitch(b),i=substr(pa,pb);return a===pa&&b===pb?i:tonalPitch.strIvl(i)}function semitones(a,b){var i=substr(tonalPitch.asPitch(a),tonalPitch.asPitch(b));return i?tonalPitch.height(i):null}Object.defineProperty(exports,"__esModule",{value:!0});var tonalPitch=require("tonal-pitch");exports.interval=interval,exports.semitones=semitones},{"tonal-pitch":16}],8:[function(require,module,exports){"use strict";function isNum(n){return"number"==typeof n}function fOcts(f){return Math.floor(7*f/12)}function encode(step,alt,oct){var f=FIFTHS[step]+7*alt;return isNum(oct)?[f,oct-FIFTH_OCTS[step]-4*alt]:[f]}function unaltered(f){var i=(f+1)%7;return i<0?7+i:i}function decode(f,o){var step=STEPS[unaltered(f)],alt=Math.floor((f+1)/7);return isNum(o)?[step,alt,o+4*alt+FIFTH_OCTS[step]]:[step,alt]}Object.defineProperty(exports,"__esModule",{value:!0});var FIFTHS=[0,2,4,-1,1,3,5],FIFTH_OCTS=FIFTHS.map(fOcts),STEPS=[3,0,4,1,5,2,6];exports.encode=encode,exports.decode=decode},{}],9:[function(require,module,exports){"use strict";function round(m,fn){return m=!(!m&&0!==m)&&Math.pow(10,m),function(v){return v=fn(v),null===v?null:m?Math.round(v*m)/m:v}}function eqTempFreq(ref,max,note$$1){return arguments.length>2?eqTempFreq(ref,max)(note$$1):round(max,function(p){var m=tonalMidi.toMidi(p);return m?Math.pow(2,(m-69)/12)*ref:null})}function eqTempFreqToMidi(ref,max,freq){return arguments.length>2?eqTempFreqToMidi(ref,max)(freq):round(max,function(freq){return 12*(Math.log(freq)-Math.log(ref))/Math.log(2)+69})}function note$1(freq,useSharps){return tonalMidi.note(toMidi$1(freq),useSharps)}function cents(base,freq){var b=toFreq(base)||base,f=toFreq(freq)||freq;return Math.round(Math.log(f/b)/Math.log(2)*1200)}Object.defineProperty(exports,"__esModule",{value:!0});var tonalMidi=require("tonal-midi"),toFreq=eqTempFreq(440,2),toMidi$1=eqTempFreqToMidi(440,2);exports.eqTempFreq=eqTempFreq,exports.toFreq=toFreq,exports.eqTempFreqToMidi=eqTempFreqToMidi,exports.toMidi=toMidi$1,exports.note=note$1,exports.cents=cents},{"tonal-midi":13}],10:[function(require,module,exports){"use strict";function simpleTuning(src){var pcs=tonalArray.map(tonalNote.pc,tuning(src)||src);return pcs.reduce(function(s,pc$$1,i){if(!1===s)return s;if(i%2==0)s.push(pc$$1);else if(s[s.length-1]!==pc$$1)return!1;return s},[])||pcs}function notes(tun,first,last,set){first=first||0,last=last||first;var ivls=tonalRange.numeric([first,last]).map(tonalInterval.fromSemitones),notes=tuning(tun)||tonalArray.asArr(tun),filterFn=set?tonalArray.map(includedIn(set)):id;return notes.map(function(b){return ivls.map(tonalTranspose.transpose(b))}).map(filterFn)}function id(o){return o}function includedIn(set){var isInSet=tonalPcset.includes(set);return function(n){return isInSet(n)?n:null}}function scale(tuning,scale,first,last){return notes(tuning,first,last,scale)}function chordShapes(tuning,notes,first,last,span){var fretboard=scale(tuning,notes,first,last),positions=[];return fretboard.map(function(string,stringIndex){return string.map(function(fret,fretIndex){return tonalArray.compact(string.slice(fretIndex,fretIndex+span).map(function(slicedFret,slicedFretIndex){return null!==slicedFret?fretIndex+slicedFretIndex:null}))})}).forEach(function(string){string.forEach(function(fretGroup,fretGroupIndex){Array.isArray(positions[fretGroupIndex])||(positions[fretGroupIndex]=[]),fretGroup.length>1?positions[fretGroupIndex].push(fretGroup):positions[fretGroupIndex].push(fretGroup.toString()?fretGroup.toString():null)})}),positions.filter(function(position,i){return!!tonalArray.compact(position).length&&(0===i?position:positions[i].toString()!==positions[i-1].toString())})}Object.defineProperty(exports,"__esModule",{value:!0});var tonalDictionary=require("tonal-dictionary"),tonalInterval=require("tonal-interval"),tonalTranspose=require("tonal-transpose"),tonalNote=require("tonal-note"),tonalArray=require("tonal-array"),tonalRange=require("tonal-range"),tonalPcset=require("tonal-pcset"),guitar=["E2 A2 D3 G3 B3 E4",["guitar 6-string standard"]],charango=["G4 G4 C5 C5 E5 E4 A4 A4 E5 E5"],bouzouki=["C3 C4 F3 F4 A3 A3 D4 D4"],DATA={guitar:guitar,charango:charango,bouzouki:bouzouki,"open D tuning":["D2 A2 D3 F#3 A3 D4",["vestopol"]],"open C tuning":["C2 G2 C3 G3 C4 E4"]},dict=tonalDictionary.dictionary(DATA,function(s){return s.split(" ")}),tuning=dict.get,names=dict.keys;exports.tuning=tuning,exports.simpleTuning=simpleTuning,exports.names=names,exports.notes=notes,exports.scale=scale,exports.chordShapes=chordShapes},{"tonal-array":4,"tonal-dictionary":6,"tonal-interval":12,"tonal-note":14,"tonal-pcset":15,"tonal-range":17,"tonal-transpose":18}],11:[function(require,module,exports){"use strict";function harmonics(list){var a=tonalArray.asArr(list);return a.length?tonalArray.compact(a.map(tonalDistance.interval(a[0]))):a}function intervallic(notes){var dist=[];notes=tonalArray.asArr(notes);for(var i=1;i<notes.length;i++)dist.push(tonalDistance.interval(notes[i-1],notes[i]));return dist}function harmonize(list,pitch){return arguments.length>1?harmonize(list)(pitch):function(tonic){return tonalArray.compact(tonalArray.map(tonalTranspose.transpose(tonic||"P1"),list))}}Object.defineProperty(exports,"__esModule",{value:!0});var tonalTranspose=require("tonal-transpose"),tonalDistance=require("tonal-distance"),tonalArray=require("tonal-array");exports.harmonics=harmonics,exports.intervallic=intervallic,exports.harmonize=harmonize},{"tonal-array":4,"tonal-distance":7,"tonal-transpose":18}],12:[function(require,module,exports){"use strict";function toInterval(ivl){var i=tonalPitch.asIvlPitch(ivl);return i?tonalPitch.strIvl(i):null}function num(ivl){var p=props(ivl);return p?p.num:null}function value(ivl){var p=props(ivl);return p?p.num*p.dir:null}function props(ivl){var i=tonalPitch.asIvlPitch(ivl);if(!i)return null;var d=tonalPitch.decode(i);return{num:d[0]+1+7*d[2],alt:d[1],dir:i[2]}}function fromProps(props){if(!props||props.num<1)return null;var octs=Math.floor(props.num/8),simple=props.num-7*octs;return intervalNotation.build(simple,props.alt||0,octs,props.dir)}function semitones(ivl){var i=tonalPitch.asIvlPitch(ivl);return i?tonalPitch.height(i):null}function fromSemitones(num){var d=num<0?-1:1,n=Math.abs(num),c=n%12,o=Math.floor(n/12);return d*(IN[c]+7*o)+IQ[c]}function ic(ivl){var i=tonalPitch.asIvlPitch(ivl),s=i?tonalPitch.chr(i):Math.round(ivl);return isNaN(s)?null:CLASSES[Math.abs(s)%12]}function type(ivl){var i=tonalPitch.asIvlPitch(ivl);return i?TYPES[tonalPitch.decode(i)[0]]:null}Object.defineProperty(exports,"__esModule",{value:!0});var intervalNotation=require("interval-notation"),tonalPitch=require("tonal-pitch"),IN=[1,2,2,3,3,4,5,5,6,6,7,7],IQ="P m M m M P d P m M m M".split(" "),CLASSES=[0,1,2,3,4,5,6,5,4,3,2,1],TYPES="PMMPPMM",invert=tonalPitch.ivlFn(function(i){var d=tonalPitch.decode(i),step=(7-d[0])%7,alt="P"===TYPES[d[0]]?-d[1]:-(d[1]+1);return tonalPitch.encode(step,alt,d[2],tonalPitch.dir(i))}),simplify=tonalPitch.ivlFn(function(i){var dec=tonalPitch.decode(i);return 0===dec[0]&&1===dec[2]||(dec[2]=0),tonalPitch.encode(dec[0],dec[1],dec[2],tonalPitch.dir(i))});exports.toInterval=toInterval,exports.num=num,exports.value=value,exports.props=props,exports.fromProps=fromProps,exports.semitones=semitones,exports.fromSemitones=fromSemitones,exports.ic=ic,exports.type=type,exports.invert=invert,exports.simplify=simplify},{"interval-notation":2,"tonal-pitch":16}],13:[function(require,module,exports){"use strict";function toMidi(val){return Array.isArray(val)&&2===val.length?7*val[0]+12*val[1]+12:noteParser.midi(val)}function note(num,sharps){return!0===num||!1===num?function(m){return note(m,num)}:(num=Math.round(num),(!0===sharps?SHARPS:FLATS)[num%12]+(Math.floor(num/12)-1))}Object.defineProperty(exports,"__esModule",{value:!0});var noteParser=require("note-parser"),FLATS="C Db D Eb E F Gb G Ab A Bb B".split(" "),SHARPS="C C# D D# E F F# G G# A A# B".split(" ");exports.toMidi=toMidi,exports.note=note},{"note-parser":3}],14:[function(require,module,exports){"use strict";function parseNote(name){return"string"!=typeof name?null:cache[name]||(cache[name]=noteParser.parse(name))}function chroma(n){var p=parseNote(n);return p?p.chroma:null}function name(n){var p=tonalPitch.asNotePitch(n);return p?tonalPitch.strNote(p):null}function note$1(n){return console.warn("note.note() is deprecated. Use note.name()"),name(n)}function props(n){console.warn("note.props() is deprecated. Use: note.step(), note.alt() or note.oct()");var p=tonalPitch.asNotePitch(n);if(!p)return null;var d=tonalPitch.decode(p);return{step:d[0],alt:d[1],oct:d[2]}}function fromProps(props){return console.warn("note.fromProps() is deprecated. See npm package note-parser."),props?noteParser.build(props.step,props.alt,props.oct):null}function getProp(name){return function(n){var p=props(n);return p?p[name]:null}}function pcFifths(note$$1){console.warn("note.pcFifths() is deprecated. Use distance.inFifths()");var p=tonalPitch.asNotePitch(note$$1);return p?tonalPitch.fifths(p):null}function pc(n){var p=tonalPitch.asNotePitch(n);return p?tonalPitch.strNote([p[0],[tonalPitch.fifths(p)]]):null}function enharmonics(pitch){var notes=[];return notes.push(tonalTranspose.transpose(DESC,pitch)),null===notes[0]?null:(notes.push(pitch),notes.push(tonalTranspose.transpose(ASC,pitch)),notes)}function simplify(pitch){return enharmonics(pitch).reduce(function(simple,next){return simple?simple.length>next.length?next:simple:next},null)}Object.defineProperty(exports,"__esModule",{value:!0});var noteParser=require("note-parser"),tonalPitch=require("tonal-pitch"),tonalTranspose=require("tonal-transpose"),tonalMidi=require("tonal-midi"),tonalFreq=require("tonal-freq"),cache={},midi=tonalMidi.toMidi,fromMidi=tonalMidi.note,freq=tonalFreq.toFreq,oct=getProp("oct"),step=getProp("step"),alt=getProp("alt"),ASC=tonalPitch.parseIvl("2d"),DESC=tonalPitch.parseIvl("-2d");exports.midi=midi,exports.fromMidi=fromMidi,exports.freq=freq,exports.chroma=chroma,exports.name=name,exports.note=note$1,exports.props=props,exports.fromProps=fromProps,exports.oct=oct,exports.step=step,exports.pcFifths=pcFifths,exports.alt=alt,exports.pc=pc,exports.enharmonics=enharmonics,exports.simplify=simplify},{"note-parser":3,"tonal-freq":9,"tonal-midi":13,"tonal-pitch":16,"tonal-transpose":18}],15:[function(require,module,exports){"use strict";function chrToInt(set){return parseInt(chroma(set),2)}function pitchChr(p){return p=tonalPitch.asPitch(p),p?tonalPitch.chr(p):null}function chroma(set){if(isChroma(set))return set;var b=[0,0,0,0,0,0,0,0,0,0,0,0];return tonalArray.map(pitchChr,set).forEach(function(i){b[i]=1}),b.join("")}function notes(notes){console.warn("pcset.notes deprecated. Use collection.pcset");var pcs=tonalArray.map(tonalNote.pc,notes);if(!pcs.length)return pcs;var tonic=pcs[0];return fromChroma(tonalArray.rotate(pitchChr(tonic),chroma(pcs).split("")).join(""),tonic)}function modes(set,normalize){normalize=!1!==normalize;var binary=chroma(set).split("");return tonalArray.compact(binary.map(function(_,i){var r=tonalArray.rotate(i,binary);return normalize&&"0"===r[0]?null:r.join("")}))}function chromaModes(set,norm){return console.warn("pcset.chromaModes deprecated. Renamed to pcset.modes"),modes(set,norm)}function isChroma(set){return REGEX.test(set)}function intervals(set){return tonalArray.compact(chroma(set).split("").map(function(d,i){return"1"===d?IVLS[i]:null}))}function fromChroma(binary,tonic){return console.warn("pcset.fromChroma is deprecated. Use pcset.intervals().map(...)"),1===arguments.length?function(t){return fromChroma(binary,t)}:(tonic||(tonic="P1"),intervals(binary).map(tonalTranspose.transpose(tonic)))}function isEqual(s1,s2){return 1===arguments.length?function(s){return isEqual(s1,s)}:chroma(s1)===chroma(s2)}function equal(a,b){return console.warn("pcset.equal is deprecated. Use pcset.isEqual"),isEqual(a,b)}function isSubset(set,test){return 1===arguments.length?function(t){return isSubset(set,t)}:((test=chrToInt(test))&chrToInt(set))===test}function subset(a,b){return console.warn("pcset.subset is deprecated. Use pcset.isSubset"),isSubset(a,b)}function isSuperset(set,test){return 1===arguments.length?function(t){return isSuperset(set,t)}:((test=chrToInt(test))|chrToInt(set))===test}function superset(a,b){return console.warn("pcset.superset is deprecated. Use pcset.isSuperset"),isSuperset(a,b)}function includes(set,note){return arguments.length>1?includes(set)(note):(set=chroma(set),function(note){return"1"===set[pitchChr(note)]})}function filter(set,notes){return 1===arguments.length?function(n){return filter(set,n)}:tonalArray.asArr(notes).filter(includes(set))}Object.defineProperty(exports,"__esModule",{value:!0});var tonalPitch=require("tonal-pitch"),tonalNote=require("tonal-note"),tonalArray=require("tonal-array"),tonalTranspose=require("tonal-transpose"),REGEX=/^[01]{12}$/,IVLS="1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M".split(" ");exports.chroma=chroma,exports.notes=notes,exports.modes=modes,exports.chromaModes=chromaModes,exports.isChroma=isChroma,exports.intervals=intervals,exports.fromChroma=fromChroma,exports.isEqual=isEqual,exports.equal=equal,exports.isSubset=isSubset,exports.subset=subset,exports.isSuperset=isSuperset,exports.superset=superset,exports.includes=includes,exports.filter=filter},{"tonal-array":4,"tonal-note":14,"tonal-pitch":16,"tonal-transpose":18}],16:[function(require,module,exports){"use strict";function pitch(fifths,focts,dir){return dir?["tnlp",[fifths,focts],dir]:["tnlp",[fifths,focts]]}function isPitch(p){return Array.isArray(p)&&"tnlp"===p[0]}function encode$1(s,a,o,dir){return dir?["tnlp",tonalEncoding.encode(s,a,o),dir]:["tnlp",tonalEncoding.encode(s,a,o)]}function decode$1(p){return tonalEncoding.decode.apply(null,p[1])}function pType(p){return isPitch(p)?p[2]?"ivl":"note":null}function isNotePitch(p){return"note"===pType(p)}function isIvlPitch(p){return"ivl"===pType(p)}function isPC(p){return isPitch(p)&&1===p[1].length}function dir(p){return-1===p[2]?-1:1}function fifths(p){return-1===p[2]?-p[1][0]:p[1][0]}function focts(p){return-1===p[2]?-p[1][1]:p[1][1]}function height(p){return 7*fifths(p)+12*focts(p)}function chr(p){var f=fifths(p);return 7*f-12*Math.floor(7*f/12)}function memoize(fn){var cache={};return function(str){return"string"!=typeof str?null:cache[str]||(cache[str]=fn(str))}}function parsePitch(s){return parseNote(s)||parseIvl(s)}function asNotePitch(p){return isNotePitch(p)?p:parseNote(p)}function asIvlPitch(p){return isIvlPitch(p)?p:parseIvl(p)}function asPitch(p){return isPitch(p)?p:parsePitch(p)}function strNote(p){return isNotePitch(p)?noteParser.build.apply(null,decode$1(p)):null}function strIvl(p){if(!isIvlPitch(p))return null;var d=decode$1(p),num=d[0]+1+7*d[2];return p[2]*num+intervalNotation.altToQ(num,d[1])}function strPitch(p){return strNote(p)||strIvl(p)}function decorator(is,parse$$1,str){return function(fn){return function(v){if(is(v))return fn(v);var p=parse$$1(v);return p?str(fn(p)):null}}}Object.defineProperty(exports,"__esModule",{value:!0});var noteParser=require("note-parser"),intervalNotation=require("interval-notation"),tonalEncoding=require("tonal-encoding"),parseNote=memoize(function(s){var p=noteParser.parse(s);return p?encode$1(p.step,p.alt,p.oct):null}),parseIvl=memoize(function(s){var p=intervalNotation.parse(s);return p&&p?encode$1(p.simple-1,p.alt,p.oct,p.dir):null}),noteFn=decorator(isNotePitch,parseNote,strNote),ivlFn=decorator(isIvlPitch,parseIvl,strIvl),pitchFn=decorator(isPitch,parsePitch,strPitch);exports.pitch=pitch,exports.isPitch=isPitch,exports.encode=encode$1,exports.decode=decode$1,exports.pType=pType,exports.isNotePitch=isNotePitch,exports.isIvlPitch=isIvlPitch,exports.isPC=isPC,exports.dir=dir,exports.fifths=fifths,exports.focts=focts,exports.height=height,exports.chr=chr,exports.parseNote=parseNote,exports.parseIvl=parseIvl,exports.parsePitch=parsePitch,exports.asNotePitch=asNotePitch,exports.asIvlPitch=asIvlPitch,exports.asPitch=asPitch,exports.strNote=strNote,exports.strIvl=strIvl,exports.strPitch=strPitch,exports.noteFn=noteFn,exports.ivlFn=ivlFn,exports.pitchFn=pitchFn},{"interval-notation":2,"note-parser":3,"tonal-encoding":8}],17:[function(require,module,exports){"use strict";function isNum(n){return"number"==typeof n}function asNum(n){return isNum(n)?n:tonalMidi.toMidi(n)}
function ascR(b,n){for(var a=[];n--;a[n]=n+b);return a}function descR(b,n){for(var a=[];n--;a[n]=b-n);return a}function ran(a,b){return null===a||null===b?[]:a<b?ascR(a,b-a+1):descR(a,a-b+1)}function numeric(list){return tonalArray.asArr(list).map(asNum).reduce(function(r,n,i){if(1===i)return ran(r,n);var last=r[r.length-1];return r.concat(ran(last,n).slice(1))})}function chromatic(list,sharps){return tonalArray.map(tonalMidi.note(!0===sharps),numeric(list))}function fifths(tonic,range){return numeric(range).map(tonalTranspose.trFifths(tonic))}function pitchSet(set,range){return 1===arguments.length?function(l){return pitchSet(set,l)}:tonalPcset.filter(set,chromatic(range))}Object.defineProperty(exports,"__esModule",{value:!0});var tonalArray=require("tonal-array"),tonalTranspose=require("tonal-transpose"),tonalMidi=require("tonal-midi"),tonalPcset=require("tonal-pcset");exports.numeric=numeric,exports.chromatic=chromatic,exports.fifths=fifths,exports.pitchSet=pitchSet},{"tonal-array":4,"tonal-midi":13,"tonal-pcset":15,"tonal-transpose":18}],18:[function(require,module,exports){"use strict";function trBy(i,p){var t=tonalPitch.pType(p);if(!t)return null;var f=tonalPitch.fifths(i)+tonalPitch.fifths(p);if(tonalPitch.isPC(p))return["tnlp",[f]];var o=tonalPitch.focts(i)+tonalPitch.focts(p);if("note"===t)return["tnlp",[f,o]];var d=tonalPitch.height(i)+tonalPitch.height(p)<0?-1:1;return["tnlp",[d*f,d*o],d]}function transpose(a,b){if(1===arguments.length)return function(b){return transpose(a,b)};var pa=tonalPitch.asPitch(a),pb=tonalPitch.asPitch(b),r=tonalPitch.isIvlPitch(pa)?trBy(pa,pb):tonalPitch.isIvlPitch(pb)?trBy(pb,pa):null;return a===pa&&b===pb?r:tonalPitch.strPitch(r)}function trFifths(t,n){return arguments.length>1?trFifths(t)(n):function(n){return transpose(t,tonalPitch.pitch(n,0,1))}}Object.defineProperty(exports,"__esModule",{value:!0});var tonalPitch=require("tonal-pitch");exports.transpose=transpose,exports.trFifths=trFifths},{"tonal-pitch":16}]},{},[1]);